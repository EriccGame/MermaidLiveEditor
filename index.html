<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid Live Editor</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11.4.0/dist/mermaid.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ§œâ€â™€ï¸ Mermaid Live Editor</h1>
            <p>Editor en vivo para diagramas Mermaid</p>
        </header>

        <div class="toolbar">
            <div class="file-controls">
                <input type="file" id="fileInput" accept=".md,.mmd,.txt" style="display: none;">
                <input type="file" id="imageInput" accept="image/*" style="display: none;">
                <button id="loadFileBtn" class="btn btn-primary">ğŸ“ Cargar Archivo</button>
                <button id="loadImageBtn" class="btn btn-info">ğŸ–¼ï¸ Cargar Imagen</button>
                <button id="downloadBtn" class="btn btn-secondary">ğŸ’¾ Descargar</button>
                <button id="clearBtn" class="btn btn-danger">ğŸ—‘ï¸ Limpiar</button>
            </div>
            <div class="view-controls">
                <button id="toggleViewBtn" class="btn btn-info">ğŸ”„ Vista Dividida</button>
                <button id="fullscreenBtn" class="btn btn-success">ğŸ–¥ï¸ Pantalla Completa</button>
            </div>
        </div>

        <div class="main-content">
            <div class="editor-panel" id="editorPanel">
                <div class="panel-header">
                    <h3>ğŸ“ Editor</h3>
                    <div class="editor-controls">
                        <select id="diagramType" class="diagram-selector">
                            <option value="">Seleccionar tipo de diagrama</option>
                            <option value="flowchart">Flowchart</option>
                            <option value="sequence">Sequence Diagram</option>
                            <option value="class">Class Diagram</option>
                            <option value="state">State Diagram</option>
                            <option value="er">Entity Relationship</option>
                            <option value="gantt">Gantt Chart</option>
                            <option value="pie">Pie Chart</option>
                            <option value="journey">User Journey</option>
                            <option value="git">Git Graph</option>
                        </select>
                    </div>
                </div>
                <textarea id="mermaidCode" placeholder="Escribe tu cÃ³digo Mermaid aquÃ­ o carga un archivo...

Ejemplo:
graph TD
    A[Inicio] --> B{Â¿CondiciÃ³n?}
    B -->|SÃ­| C[AcciÃ³n 1]
    B -->|No| D[AcciÃ³n 2]
    C --> E[Fin]
    D --> E"></textarea>
            </div>

            <div class="preview-panel" id="previewPanel">
                <div class="panel-header">
                    <h3>ğŸ‘ï¸ Vista Previa</h3>
                <div class="preview-controls">
                    <button id="refreshBtn" class="btn btn-small btn-info">ğŸ”„ Actualizar</button>
                    <button id="exportImageBtn" class="btn btn-small btn-success">ğŸ“· Imagen</button>
                    <button id="zoomOutBtn" class="btn btn-small">ğŸ”-</button>
                    <button id="resetZoomBtn" class="btn btn-small">ğŸ” Reset</button>
                    <button id="zoomInBtn" class="btn btn-small">ğŸ”+</button>
                </div>
                </div>
                <div id="mermaidOutput" class="mermaid-container">
                    <div class="placeholder">
                        <p>ğŸ¨ Los diagramas aparecerÃ¡n aquÃ­</p>
                        <p>Escribe cÃ³digo Mermaid en el editor o carga un archivo</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="status-bar">
            <div class="status-info">
                <span id="statusText">Listo</span>
                <span id="lineCount">LÃ­neas: 0</span>
                <span id="charCount">Caracteres: 0</span>
            </div>
            <div class="mermaid-version">
                Mermaid v11.4.0
            </div>
        </div>

        <div class="examples-section" id="examplesSection">
            <h3>ğŸ“š Ejemplos</h3>
            <div class="examples-grid">
                <div class="example-card" data-type="flowchart">
                    <h4>Flowchart</h4>
                    <pre>graph TD
    A[Inicio] --> B{DecisiÃ³n}
    B -->|SÃ­| C[Proceso 1]
    B -->|No| D[Proceso 2]</pre>
                </div>
                <div class="example-card" data-type="sequence">
                    <h4>Sequence Diagram</h4>
                    <pre>sequenceDiagram
    Alice->>Bob: Hola Bob
    Bob-->>Alice: Hola Alice
    Alice->>Bob: Â¿CÃ³mo estÃ¡s?</pre>
                </div>
                <div class="example-card" data-type="class">
                    <h4>Class Diagram</h4>
                    <pre>classDiagram
    class Animal {
        +String name
        +eat()
        +sleep()
    }</pre>
                </div>
                <div class="example-card" data-type="pie">
                    <h4>Pie Chart</h4>
                    <pre>pie title DistribuciÃ³n
    "A" : 386
    "B" : 85
    "C" : 150</pre>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
